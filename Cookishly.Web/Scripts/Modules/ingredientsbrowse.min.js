function IngredientBrowseViewModel(){var n=this,t;n.pageNumber=0;n.pageSize=12;n.ingredients=ko.observableArray([]);n.getIngredients=function(){$.ajax({method:"get",url:App.getApiUrl("/ingredients"),data:{offset:n.pageNumber,limit:n.pageSize},contentType:"application/json; charset=utf-8",headers:{Authorization:"Bearer "+App.getAccessToken()}}).done(t)};t=function(t){if(t){n.ingredients.removeAll();for(var i=0;i<t.Items.length;i+=1)n.ingredients.push(new Ingredient(t.Items[i]))}}}function Ingredient(n){this.id=ko.observable(n.Id);this.name=ko.observable(n.Name);this.imageUrl=ko.observable(n.ImageUrl)}var App=function(){var n=this,t,i;return n.getTokenUrl="http://localhost/Cookishly.Api/token",n.login=function(r){var u=r+"&grant_type=password";$.post(n.getTokenUrl,u).done(t).fail(i)},n.getApiUrl=function(n){return"http://localhost/Cookishly.Api/api"+n},n.getAccessToken=function(){return sessionStorage.getItem("accessToken")},n.setAccessToken=function(n){sessionStorage.setItem("accessToken",n)},n.returnNumber=function(n){return n},t=function(n){alert(n.access_token);var t=n.access_token;return setAccessToken(t),!0},i=function(n){return alert(JSON.stringify(n,null,4)),!1},n}(),IngredientsBrowse=function(){var n=this,t=new IngredientBrowseViewModel;return n.init=function(){t.getIngredients();ko.applyBindings(t)},n}();$(function(){IngredientsBrowse.init()});
//# sourceMappingURL=ingredientsbrowse.min.js.map
